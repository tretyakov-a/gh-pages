{"version":3,"file":"main-78108abc.js","mappings":"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","sources":["webpack:///./js/utils.js","webpack:///./js/text-measure-tool.js","webpack:///./js/language-controller.js","webpack:///./js/key.js","webpack:///./js/text-area.js","webpack:///./js/keyboard.js","webpack:///./js/index.js","webpack:///./js/templates/header.js","webpack:///./js/templates/footer.js"],"sourcesContent":["function createElement(tag, classes) {\n  const el = document.createElement(tag);\n  if (classes) {\n    el.classList.add(classes);\n  }\n  return el;\n}\n\nfunction areSetsEqual(a, b) {\n  return a.size === b.size && [...a].every((value) => b.has(value));\n}\n\nexport {\n  createElement,\n  areSetsEqual,\n};\n","import { createElement } from './utils';\n\nclass TextMeasureTool {\n  constructor(font = '16px monospace') {\n    this.font = font;\n    this.el = createElement('canvas');\n    this.ctx = this.el.getContext('2d');\n    this.ctx.font = this.font;\n    this.metrics = {};\n  }\n\n  getCharWidth = (char) => {\n    if (char.length !== 1) {\n      throw new Error('Expected a single char');\n    }\n    if (!this.metrics[char]) {\n      const { width } = this.ctx.measureText(char);\n      this.metrics[char] = width;\n    }\n    return this.metrics[char];\n  };\n\n  getStringWidth = (value) => {\n    const { length } = value;\n    let stringWidth = 0;\n    for (let i = 0; i < length; i += 1) {\n      stringWidth += this.getCharWidth(value[i]);\n    }\n    return stringWidth;\n  };\n\n  addKeySetMetrics(keySet) {\n    Object.keys(keySet).forEach((key) => {\n      const values = keySet[key];\n      Object.keys(values).forEach((valueKey) => this.getCharWidth(values[valueKey]));\n    });\n  }\n}\n\nexport default TextMeasureTool;\n","class LanguageController {\n  constructor() {\n    if (!this._load()) {\n      this.language = LanguageController.LANGUAGE.DEFAULT;\n    }\n  }\n\n  get language() {\n    return this._language;\n  }\n\n  set language(newValue) {\n    if (this._language !== newValue) {\n      this._language = newValue;\n      this._save();\n    }\n  }\n\n  toggle() {\n    const { EN, RU } = LanguageController.LANGUAGE;\n    const newLanguage = this.language === EN ? RU : EN;\n    this.language = newLanguage;\n  }\n\n  _save() {\n    localStorage.setItem(LanguageController.STORAGE, this.language);\n  }\n\n  _load() {\n    this.language = localStorage.getItem(LanguageController.STORAGE);\n    return this.language !== null;\n  }\n}\n\nLanguageController.STORAGE = 'language';\n\nLanguageController.LANGUAGE = {\n  EN: 'en',\n  RU: 'ru',\n  DEFAULT: 'en',\n};\n\nexport default LanguageController;\n","import { createElement } from './utils';\n\nclass Key {\n  constructor(options) {\n    this._parseOptions(options);\n    this.mods = {\n      active: 'button_active',\n      on: 'button_on',\n    };\n    this.el = this.render();\n  }\n\n  _parseOptions(options) {\n    Object.keys(options).forEach((key) => {\n      this[key] = options[key];\n    });\n    this.isSpecial = this.special !== undefined;\n    this.isRepeatable = !this.isSpecial || this.special.repeatable;\n    this.isCommand = this.isSpecial && this.special.command;\n  }\n\n  setState(state, isOn) {\n    const method = isOn ? 'add' : 'remove';\n    this.el.classList[method](this.mods[state]);\n  }\n\n  get isArrow() {\n    return ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(this.code);\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  set value(newValue) {\n    this._value = newValue;\n  }\n\n  setValue(state, language) {\n    const prop = this.isSpecial ? 'innerHTML' : 'textContent';\n    this.value = this.isSpecial ? this.special.value : this[language][state];\n    this.el[prop] = this.value;\n    return this;\n  }\n\n  setLabel(value) {\n    this.el.innerHTML = value;\n  }\n\n  render() {\n    if (this.el) return this.el;\n    const { code, isSpecial } = this;\n\n    const key = createElement('div', 'button');\n    key.setAttribute('data-code', code);\n    if (isSpecial) {\n      key.classList.add(`button_${code.toLowerCase()}`);\n    }\n    return key;\n  }\n}\n\nKey.STATE = {\n  ACTIVE: 'active',\n  ON: 'on',\n};\n\nexport default Key;\n","import { createElement } from './utils';\nimport Key from './key';\n\nclass TextArea {\n  constructor(textMeasureTool) {\n    this.class = 'textarea';\n    this.name = 'text';\n    this.textMeasureTool = textMeasureTool;\n    this.autoEols = [];\n    this.el = this.render();\n\n    this.el.addEventListener('click', this.handleClick);\n    this.el.addEventListener('input', this.handleChange);\n    new ResizeObserver(this.handleChange).observe(this.el);\n\n    this._resetMoveState();\n\n    requestAnimationFrame(() => setTimeout(() => {\n      const { lineHeight, paddingTop } = window.getComputedStyle(this.el);\n      this.lineHeight = Number.parseFloat(lineHeight);\n      this.paddingTop = Number.parseFloat(paddingTop);\n      this.el.dispatchEvent(new Event('input'));\n      this.setCursor(this.value.length);\n    }, 0));\n  }\n\n  get value() {\n    return this.el.value;\n  }\n\n  set value(v) {\n    this.el.value = v;\n  }\n\n  get selection() {\n    const { selectionStart: start, selectionEnd: end } = this.el;\n    return { start, end };\n  }\n\n  isFocused() {\n    return document.activeElement === this.el;\n  }\n\n  handleClick = (e) => {\n    const { offsetY, offsetX } = e;\n    const { lineHeight, paddingTop, el: { scrollTop } } = this;\n    if (offsetX > paddingTop + lineHeight) {\n      this.lineIndex = Math.trunc((offsetY + scrollTop - paddingTop) / lineHeight);\n      this.isMouseClick = true;\n    }\n    this._resetMoveState();\n  };\n\n  setCursor(pos) {\n    this.el.selectionStart = pos;\n    this.el.selectionEnd = pos;\n    this._moveScroll();\n  }\n\n  handleChange = (e) => {\n    if (e && e.type === 'input') {\n      this.textMeasureTool.getStringWidth(this.el.value);\n    }\n    this.rowsPositions = this._getRowsPositions();\n    this.autoEols.pop();\n    this._moveScroll();\n    this._resetMoveState();\n  };\n\n  _moveScroll() {\n    const { lineHeight, paddingTop, el: { offsetHeight } } = this;\n    const { rowIndex } = this._findRowIndex();\n    const rowBottom = paddingTop + lineHeight * (rowIndex + 1) - this.el.scrollTop;\n    const rowTop = rowBottom - lineHeight;\n\n    if (rowBottom > offsetHeight) {\n      this.el.scrollTop += (rowBottom - offsetHeight);\n    } else if (rowTop < 0) {\n      this.el.scrollTop += rowTop;\n    }\n  }\n\n  addCharacter(key) {\n    const { selection: { start, end } } = this;\n    const isKeyInstance = key instanceof Key;\n    const char = isKeyInstance ? key.value : key;\n    this.el.setRangeText(char, start, end, 'end');\n    this.handleChange();\n  }\n\n  selectAll() {\n    this.selectMode = TextArea.SELECT_MODE.RIGHT;\n    this.el.select();\n  }\n\n  _select(selectionMode, match, notMatch) {\n    const { selection: { start, end } } = this;\n    if (start === end) {\n      this.selectMode = selectionMode;\n    }\n    const selectionBorders = this.selectMode === selectionMode\n      ? match(start, end)\n      : notMatch(start, end);\n    this.el.setSelectionRange(...selectionBorders);\n  }\n\n  selectLeft() {\n    this._select(\n      TextArea.SELECT_MODE.LEFT,\n      (start, end) => [start !== 0 ? start - 1 : 0, end],\n      (start, end) => [start, end - 1],\n    );\n    this._setCurrentCursor();\n  }\n\n  selectRight() {\n    this._select(\n      TextArea.SELECT_MODE.RIGHT,\n      (start, end) => [start, end + 1],\n      (start, end) => [start + 1, end],\n    );\n    this._setCurrentCursor();\n  }\n\n  selectUp() {\n    const newCursorPosition = this._moveVertically(TextArea.MOVE_DIRECTION.UP);\n    this._select(\n      TextArea.SELECT_MODE.LEFT,\n      (_, end) => [newCursorPosition, end],\n      (start) => [start, newCursorPosition],\n    );\n  }\n\n  selectDown() {\n    const newCursorPosition = this._moveVertically(TextArea.MOVE_DIRECTION.DOWN);\n    this._select(\n      TextArea.SELECT_MODE.RIGHT,\n      (start) => [start, newCursorPosition],\n      (_, end) => [newCursorPosition, end],\n    );\n  }\n\n  _resetMoveState() {\n    if (this.isDecrease !== undefined) {\n      this._setCurrentCursor();\n    }\n    this.isDecrease = false;\n    this.isBoundaryMove = false;\n    this.isMouseClick = false;\n  }\n\n  _setCurrentCursor() {\n    const {\n      rowsPositions,\n      textMeasureTool: { getStringWidth },\n    } = this;\n\n    const { rowIndex, cursorPosition } = this._findRowIndex();\n    const { start, value } = rowsPositions[rowIndex];\n    const rowOffset = cursorPosition - start;\n    const rowOffsetWidth = getStringWidth(value.slice(0, rowOffset));\n    this.cursor = {\n      position: cursorPosition,\n      rowIndex,\n      rowOffset,\n      rowOffsetWidth,\n    };\n  }\n\n  arrowLeft() {\n    // '◀';\n    const { selection: { start } } = this;\n    this.setCursor(start === 0 ? start : start - 1);\n    this._resetMoveState();\n  }\n\n  arrowRight() {\n    // '▶';\n    this.setCursor(this.selection.start + 1);\n    this._resetMoveState();\n  }\n\n  _getEolsPositions() {\n    let sum = 0;\n    return this.el.value\n      .split('\\n')\n      .map(({ length }, i) => {\n        const pos = length + i + sum;\n        sum += length;\n        return pos;\n      })\n      .slice(0, -1);\n  }\n\n  _getRowsPositions() {\n    const rows = new FormData(this.el.parentElement).get(this.name).split('\\n');\n    const eolsPositions = this._getEolsPositions();\n    this.autoEols.length = 0;\n    let lastPosition = 0;\n    return rows.map((row, i) => {\n      const start = lastPosition;\n      if (i === 0 && row.length === 0) {\n        lastPosition += 1;\n        return { start, end: 1, value: row };\n      }\n      let end = lastPosition + row.length - (i === (rows.length - 1) ? 0 : 1);\n      if (eolsPositions.find((v) => v === end + 1)) {\n        end += 1;\n        lastPosition += 1;\n      } else {\n        this.autoEols.push(end + 1);\n      }\n      lastPosition += row.length;\n      return { start, end, value: row };\n    });\n  }\n\n  _getCursorPosition() {\n    const { selection: { start, end } } = this;\n    return (start === end || this.selectionMode === TextArea.SELECT_MODE.LEFT) ? start : end;\n  }\n\n  _findRowIndex() {\n    let { selection: { start: cursorPosition } } = this;\n    let isWrongIndex = false;\n    let rowIndex = this.rowsPositions.findIndex(({ start, end }, i) => {\n      isWrongIndex = cursorPosition === start && this.isMouseClick && this.lineIndex === (i - 1);\n      return cursorPosition >= start && cursorPosition <= end;\n    });\n    rowIndex -= isWrongIndex;\n    cursorPosition -= isWrongIndex;\n    return { rowIndex, cursorPosition };\n  }\n\n  _makeBoundaryMove(direction, currRow) {\n    const { selection: { start, end }, textMeasureTool: { getStringWidth } } = this;\n    const isDirectionUp = direction === TextArea.MOVE_DIRECTION.UP;\n    const cursorPosition = this.selectMode === TextArea.SELECT_MODE.LEFT ? start : end;\n    if (!this.isBoundaryMove && !this.isDecrease) {\n      this.prevOffset = cursorPosition - currRow.start;\n      this.cursor.rowOffsetWidth = getStringWidth(currRow.value.slice(0, this.prevOffset));\n    }\n    this.isBoundaryMove = true;\n    return isDirectionUp ? 0 : this.el.value.length;\n  }\n\n  _getNewCursorPosition({ start, value }) {\n    const { textMeasureTool: { getCharWidth }, cursor: { rowOffsetWidth } } = this;\n    // console.log(rowOffsetWidth)\n    const { length } = value;\n    let partWidth = 0;\n    let prevCharWidth = 0;\n    for (let i = 0; i < length; i += 1) {\n      const charWidth = getCharWidth(value[i]);\n      if (partWidth === rowOffsetWidth) {\n        return i;\n      }\n      if (partWidth > rowOffsetWidth) {\n        const rightPart = partWidth - rowOffsetWidth;\n        const leftPart = prevCharWidth - rightPart;\n        return (rightPart >= leftPart) ? i - 1 : i;\n      }\n      if (i === length - 1 && this.autoEols.includes(start + length)) {\n        return length - 1;\n      }\n      partWidth += charWidth;\n      prevCharWidth = charWidth;\n    }\n    return length;\n  }\n\n  _moveVertically(direction) {\n    const {\n      rowsPositions,\n      textMeasureTool: { getStringWidth },\n      cursor: { rowIndex },\n    } = this;\n    if (!rowsPositions[rowIndex + direction]) {\n      return this._makeBoundaryMove(direction, rowsPositions[rowIndex]);\n    }\n    const next = rowsPositions[rowIndex + direction];\n    const nextRowWidth = getStringWidth(next.value);\n    this.isDecrease = this.cursor.rowOffsetWidth > nextRowWidth;\n    const newCursorPosition = this.isDecrease\n      ? next.end\n      : next.start + this._getNewCursorPosition(next);\n    this.cursor.rowIndex += direction;\n    this.isBoundaryMove = false;\n    return newCursorPosition;\n  }\n\n  arrowUp() {\n    // '▲';\n    const cursorPosition = this._moveVertically(TextArea.MOVE_DIRECTION.UP);\n    this.setCursor(cursorPosition);\n  }\n\n  arrowDown() {\n    // '▼';\n    const cursorPosition = this._moveVertically(TextArea.MOVE_DIRECTION.DOWN);\n    this.setCursor(cursorPosition);\n  }\n\n  enter() {\n    this.addCharacter(TextArea.SYMBOL.EOL);\n  }\n\n  tab() {\n    for (let i = 0; i < TextArea.TAB_SIZE; i += 1) {\n      this.addCharacter(TextArea.SYMBOL.SPACE);\n    }\n  }\n\n  space() {\n    this.addCharacter(TextArea.SYMBOL.SPACE);\n  }\n\n  _deleteSymbol(direction, condition = true) {\n    let { selection: { start, end } } = this;\n    const { LEFT, RIGHT } = TextArea.MOVE_DIRECTION;\n    if (start === end && condition) {\n      if (direction === LEFT) {\n        start += LEFT;\n      } else {\n        end += RIGHT;\n      }\n      this.el.setRangeText('', start, end, 'end');\n    } else {\n      this.deleteSelection();\n    }\n    this.handleChange();\n  }\n\n  backspace() {\n    const { selection: { start } } = this;\n    this._deleteSymbol(TextArea.MOVE_DIRECTION.LEFT, start !== 0);\n  }\n\n  delete() {\n    this._deleteSymbol(TextArea.MOVE_DIRECTION.RIGHT);\n  }\n\n  deleteSelection() {\n    const { selection: { start, end } } = this;\n    this.el.setRangeText('', start, end, 'end');\n  }\n\n  render() {\n    if (this.el) return this.el;\n\n    const el = createElement('textarea', this.class);\n    el.style.font = this.textMeasureTool.font;\n    el.setAttribute('cols', '78');\n    el.setAttribute('rows', '10');\n    el.setAttribute('wrap', 'hard');\n    el.setAttribute('name', this.name);\n    el.setAttribute('spellcheck', false);\n    // el.textContent = 'Focus me';\n    el.textContent = 'There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don\\'t look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn\\'t anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.';\n    return el;\n  }\n}\nTextArea.SYMBOL = {\n  SPACE: ' ',\n  EOL: '\\n',\n};\nTextArea.TAB_SIZE = 4;\nTextArea.MOVE_DIRECTION = {\n  UP: -1,\n  DOWN: 1,\n  LEFT: -1,\n  RIGHT: 1,\n};\n\nTextArea.SELECT_MODE = {\n  RIGHT: 'right',\n  LEFT: 'left',\n  UP: 'up',\n  DOWN: 'down',\n};\n\nexport default TextArea;\n","import { createElement, areSetsEqual } from './utils';\nimport commonKeys from './data/keys-common.json';\nimport keyboardLayout from './data/keyboard-layout.json';\nimport hotKeys from './data/hotkeys.json';\nimport Key from './key';\n\nclass Keyboard {\n  constructor(languageController, textArea, keySets) {\n    this.keys = {};\n    this.class = 'keyboard';\n    this.languageController = languageController;\n    this.pressedCommandKeys = new Set();\n    this.pressedKeyCode = '';\n    this.textArea = textArea;\n    this.hotKeys = Object.keys(hotKeys).reduce((acc, key) => {\n      acc[key] = new Set(hotKeys[key]);\n      return acc;\n    }, {});\n    this.commandKeys = Object.keys(commonKeys).filter((key) => commonKeys[key].command);\n    this.languageDependentKeys = Object.keys(keySets[languageController.language]);\n    this.state = Keyboard.STATE.KEY;\n    this.isCapslock = false;\n    this.isShift = false;\n    this.repeatTimer = null;\n\n    this.el = this.render(keySets);\n    this.mediaQuery = window.matchMedia('(max-width: 768px)');\n    this.handleMaxWidthChange(this.mediaQuery);\n\n    this.mediaQuery.addEventListener('change', this.handleMaxWidthChange);\n    this.el.addEventListener('mousedown', this.handleMouseDown);\n    document.addEventListener('mouseup', this.handleMouseUp);\n    document.addEventListener('keydown', this.handleKeyDown);\n    document.addEventListener('keyup', this.handleKeyUp);\n    window.addEventListener('blur', this.handleWindowBlur);\n  }\n\n  set isShift(newValue) {\n    this._isShift = newValue;\n    this.changeState();\n  }\n\n  get isShift() {\n    return this._isShift;\n  }\n\n  set isCapslock(newValue) {\n    this._isCapslock = newValue;\n    this.toggleButtonOn(['CapsLock'], newValue);\n    this.changeState();\n  }\n\n  get isCapslock() {\n    return this._isCapslock;\n  }\n\n  changeState() {\n    const {\n      KEY, SHIFT, CAPSLOCK, CAPSANDSHIFT,\n    } = Keyboard.STATE;\n    this.state = (\n      ((this.isCapslock && this.isShift) && CAPSANDSHIFT)\n      || (this.isShift && SHIFT)\n      || (this.isCapslock && CAPSLOCK)\n      || KEY\n    );\n    this.updateButtons();\n  }\n\n  toggleButtonOn(btnKeys, isOn) {\n    btnKeys.forEach((key) => {\n      if (this.keys[key]) {\n        this.keys[key].setState(Key.STATE.ON, isOn);\n      }\n    });\n  }\n\n  shiftLeft(value) {\n    this.isShift = value;\n  }\n\n  shiftRight(value) {\n    this.shiftLeft(value);\n  }\n\n  capsLock() {\n    this.isCapslock = !this.isCapslock;\n  }\n\n  toggleCommandBtn(code, value) {\n    const { commandKey } = commonKeys[code];\n    const keys = Object.keys(commonKeys).filter((c) => commonKeys[c].commandKey === commandKey);\n    const prop = `is${code}`;\n    this[prop] = value === undefined ? !this[prop] : value;\n    keys.forEach((key) => this.keys[key].setState(Key.STATE.ACTIVE, this[prop]));\n    return this[prop];\n  }\n\n  handleSpecialBtnDown({ code }) {\n    const fnName = code[0].toLowerCase() + code.slice(1);\n    if (this.textArea[fnName]) this.textArea[fnName]();\n    if (this[fnName]) this[fnName]();\n  }\n\n  handleCommandBtnDown({ code, isTrusted }) {\n    const { commandKey } = commonKeys[code];\n    const fnName = code[0].toLowerCase() + code.slice(1);\n    if (this[fnName]) this[fnName](true);\n    if (isTrusted) {\n      this.pressedCommandKeys.add(commandKey);\n    } else if (!this.toggleCommandBtn(code)) {\n      this.pressedCommandKeys.delete(commandKey);\n      if (this[fnName]) this[fnName](false);\n    } else {\n      this.pressedCommandKeys.add(commandKey);\n    }\n  }\n\n  handleCommandBtnUp({ code, isTrusted }) {\n    const { commandKey } = commonKeys[code];\n    const fnName = code[0].toLowerCase() + code.slice(1);\n    if (isTrusted) {\n      this.toggleCommandBtn(code, false);\n      this.pressedCommandKeys.delete(commandKey);\n      if (this[fnName]) this[fnName](false);\n    }\n  }\n\n  clearCommandKeys({ isTrusted = false } = {}) {\n    if (!isTrusted) {\n      this.pressedCommandKeys.clear();\n      this.commandKeys.forEach((code) => {\n        const fnName = code[0].toLowerCase() + code.slice(1);\n        if (this[fnName]) this[fnName](false);\n        this.toggleCommandBtn(code, false);\n      });\n    }\n  }\n\n  handleKeyDown = (e) => {\n    if (e.isTrusted && !this.textArea.isFocused()) {\n      return;\n    }\n    e.preventDefault();\n    const key = this.keys[e.code];\n    if (!key || (e.repeat && key.isSpecial && !key.isRepeatable)) {\n      return;\n    }\n\n    key.setState(Key.STATE.ACTIVE, true);\n\n    if (key.isCommand) {\n      this.handleCommandBtnDown(e);\n\n      if (this.handleHotkey(e)) {\n        this.clearCommandKeys(e);\n      }\n    } else {\n      const cmdsNumber = this.pressedCommandKeys.size;\n      const isHotKey = this.handleHotkey(e);\n      if (!isHotKey && (!cmdsNumber || (cmdsNumber === 1 && this.isShift))) {\n        if (key.isSpecial) {\n          this.handleSpecialBtnDown(e);\n        } else {\n          this.textArea.addCharacter(key);\n        }\n      }\n      if (!isHotKey || (isHotKey && !key.isArrow)) {\n        this.clearCommandKeys(e);\n      }\n    }\n  };\n\n  handleKeyUp = (e) => {\n    if (e.isTrusted && !this.textArea.isFocused()) {\n      return;\n    }\n    e.preventDefault();\n    const key = this.keys[e.code];\n    if (!key || (e.repeat && key.isSpecial && !key.isRepeatable)) {\n      return;\n    }\n\n    if (e.isTrusted || !key.isCommand) {\n      key.setState(Key.STATE.ACTIVE, false);\n    }\n\n    if (key.isCommand) {\n      this.handleCommandBtnUp(e);\n    }\n  };\n\n  updateButtons() {\n    const { keys } = this;\n    if (!Object.keys(keys).length) {\n      return;\n    }\n    const {\n      languageDependentKeys,\n      state,\n      languageController: { language },\n    } = this;\n    languageDependentKeys.forEach((keyCode) => {\n      keys[keyCode].setValue(state, language);\n    });\n  }\n\n  languageSwitch() {\n    this.languageController.toggle();\n    this.updateButtons();\n  }\n\n  handleHotkey({ code }) {\n    const lastKey = this.keys[code];\n    const keysForCompare = new Set(this.pressedCommandKeys);\n    if (!lastKey.isCommand) {\n      keysForCompare.add(code);\n    }\n    return Object.keys(this.hotKeys).some((fnName) => {\n      const keys = this.hotKeys[fnName];\n      if (lastKey.isCommand && !keys.has(commonKeys[code].commandKey)) {\n        return false;\n      }\n      const isEqual = areSetsEqual(keysForCompare, keys);\n      if (isEqual) {\n        if (this.textArea[fnName]) this.textArea[fnName]();\n        if (this[fnName]) this[fnName]();\n      }\n      return isEqual;\n    });\n  }\n\n  repeatBtn(code, delay) {\n    this.repeatTimer = setTimeout(() => {\n      document.dispatchEvent(new KeyboardEvent('keydown', { code, repeat: true }));\n      this.repeatBtn(code, Keyboard.REPEAT.PERIOD);\n    }, delay);\n  }\n\n  handleMouseDown = (e) => {\n    e.preventDefault();\n    this.textArea.el.focus();\n    const btn = e.target.closest('.button');\n    if (btn) {\n      const { code } = btn.dataset;\n      this.pressedKeyCode = code;\n      document.dispatchEvent(new KeyboardEvent('keydown', { code }));\n      if (this.keys[code].isRepeatable) {\n        this.repeatBtn(code, Keyboard.REPEAT.DELAY);\n      }\n    }\n  };\n\n  handleMouseUp = (e) => {\n    clearTimeout(this.repeatTimer);\n    const btn = e.target.closest('.button');\n    if (!btn) {\n      const pressedKey = this.keys[this.pressedKeyCode];\n      if (pressedKey && !pressedKey.isCommand) {\n        pressedKey.setState(Key.STATE.ACTIVE, false);\n      }\n      return;\n    }\n    const code = this.pressedKeyCode !== btn.dataset.code\n      ? this.pressedKeyCode\n      : btn.dataset.code;\n\n    document.dispatchEvent(new KeyboardEvent('keyup', { code }));\n    this.pressedKeyCode = '';\n  };\n\n  getKeyValues(code, keySets) {\n    return Object.keys(keySets).reduce((acc, key) => {\n      acc[key] = keySets[key][code];\n      return acc;\n    }, {});\n  }\n\n  render(keySets) {\n    if (this.el) return this.el;\n    const { state, languageController: { language } } = this;\n    const keyboard = createElement('div', this.class);\n    keyboardLayout.forEach((layoutRow) => {\n      const row = createElement('div', `${this.class}__row`);\n      layoutRow.forEach((code) => {\n        const special = commonKeys[code];\n        const key = new Key({\n          code,\n          special,\n          ...(!special && this.getKeyValues(code, keySets)),\n        }).setValue(state, language);\n        this.keys[code] = key;\n        row.append(key.render());\n      });\n      keyboard.append(row);\n    });\n    return keyboard;\n  }\n\n  handleWindowBlur = () => {\n    this.pressedKeyCode = '';\n    this.clearCommandKeys();\n    this.isShift = false;\n    Object.keys(this.keys).forEach((key) => {\n      this.keys[key].setState(Key.STATE.ACTIVE, false);\n    });\n  };\n\n  handleMaxWidthChange = ({ matches }) => {\n    Object.keys(commonKeys).forEach((code) => {\n      if (this.keys[code]) {\n        const { value } = this.keys[code];\n        const match = value.match(/.*<br>(.*)/);\n        if (match) {\n          const newValue = matches ? match[1] : value;\n          this.keys[code].setLabel(newValue);\n        }\n      }\n    });\n  };\n}\n\nKeyboard.STATE = {\n  KEY: 'key',\n  SHIFT: 'shift',\n  CAPSLOCK: 'caps',\n  CAPSANDSHIFT: 'capsAndShift',\n};\n\nKeyboard.REPEAT = {\n  DELAY: 200,\n  PERIOD: 40,\n};\n\nexport default Keyboard;\n","import '../styles/index.scss';\nimport { createElement } from './utils';\nimport TextMeasureTool from './text-measure-tool';\nimport LanguageController from './language-controller';\nimport TextArea from './text-area';\nimport Keyboard from './keyboard';\nimport footer from './templates/footer';\nimport header from './templates/header';\nimport ruKeys from './data/keys-ru.json';\nimport enKeys from './data/keys-en.json';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const { EN, RU } = LanguageController.LANGUAGE;\n  const font = 'normal 16px/1.4 \"Roboto\", sans-serif';\n  // const font = 'normal 16px/1.4 monospace';\n  const textMeasureTool = new TextMeasureTool(font);\n  textMeasureTool.addKeySetMetrics(enKeys);\n  textMeasureTool.addKeySetMetrics(ruKeys);\n\n  const container = createElement('div', 'container');\n  const textArea = new TextArea(textMeasureTool);\n  const form = createElement('form');\n  form.append(textArea.render());\n  const keyboard = new Keyboard(\n    new LanguageController(),\n    textArea,\n    { [EN]: enKeys, [RU]: ruKeys },\n  );\n  container.insertAdjacentHTML('afterbegin', header);\n  container.append(form);\n  container.append(keyboard.render());\n  container.insertAdjacentHTML('beforeend', footer);\n  document.body.append(container);\n});\n","export default `\n  <header class=\"header\">\n    <h1>Virtual Keyboard</h1>\n  </header>\n`;\n","export default `\n  <footer class=\"footer\">\n    <div class=\"footer__info\">\n      <p>Keyboard was created in Windows OS</p>\n      <p>Language switch: Ctrl + Alt</p>\n    </div>\n    <div class=\"footer__right\">\n    <a class=\"footer__github-link\" href=\"https://github.com/tretyakov-a\" title=\"GitHub\" target=\"_blank\">\n      <svg width=\"1024\" height=\"1024\" viewBox=\"0 0 1024 1024\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z\" transform=\"scale(64)\"/>\n      </svg>\n      tretyakov-a\n    </a>\n    <div class=\"footer__year\">\n      2022&nbsp;\n    </div>\n    <a class=\"rsschool-logo\" href=\"https://rs.school/js/\" title=\"https://rs.school/js/\" target=\"_blank\">\n      <svg id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 552.8 205.3\">\n        <style>.st0{fill:#fff}.st1{clip-path:url(#SVGID_2_)}.st2{clip-path:url(#SVGID_4_)}.st3{clip-path:url(#SVGID_6_)}.st4{clip-path:url(#SVGID_8_)}.st5{fill:#fff;stroke-width:4;stroke-miterlimit:10}.st6{clip-path:url(#SVGID_8_)}.st6,.st7{fill:none;stroke-width:4;stroke-miterlimit:10}.st8,.st9{clip-path:url(#SVGID_10_)}.st9{fill:none;stroke-width:4;stroke-miterlimit:10}</style>\n        <title>RS School JS</title>\n        <path class=\"logo-path\" d=\"M285.4 68l26.3-1.7c.6 4.3 1.7 7.5 3.5 9.8 2.9 3.6 6.9 5.4 12.2 5.4 3.9 0 7-.9 9.1-2.8 2-1.5 3.2-3.9 3.2-6.4 0-2.4-1.1-4.7-3-6.2-2-1.8-6.7-3.6-14.1-5.2-12.1-2.7-20.8-6.3-25.9-10.9-5.1-4.3-8-10.6-7.8-17.3 0-4.6 1.4-9.2 4-13 3-4.3 7.1-7.7 12-9.6 5.3-2.3 12.7-3.5 22-3.5 11.4 0 20.1 2.1 26.1 6.4 6 4.2 9.6 11 10.7 20.3l-26 1.5c-.7-4-2.1-6.9-4.4-8.8s-5.3-2.8-9.2-2.8c-3.2 0-5.6.7-7.2 2-1.5 1.2-2.5 3-2.4 5 0 1.5.8 2.9 2 3.8 1.3 1.2 4.4 2.3 9.3 3.3 12.1 2.6 20.7 5.2 26 7.9 5.3 2.7 9.1 6 11.4 9.9 2.4 4 3.6 8.6 3.5 13.3 0 5.6-1.6 11.2-4.8 15.9-3.3 4.9-7.9 8.7-13.3 11-5.7 2.5-12.9 3.8-21.5 3.8-15.2 0-25.7-2.9-31.6-8.8S286.1 77 285.4 68zM6.3 97.6V8.2h46.1c8.5 0 15.1.7 19.6 2.2 4.4 1.4 8.3 4.3 10.9 8.2 2.9 4.3 4.3 9.3 4.2 14.5.3 8.8-4.2 17.2-11.9 21.6-3 1.7-6.3 2.9-9.7 3.5 2.5.7 5 1.9 7.2 3.3 1.7 1.4 3.1 3 4.4 4.7 1.5 1.7 2.8 3.6 3.9 5.6l13.4 25.9H63L48.2 70.2c-1.9-3.5-3.5-5.8-5-6.9-2-1.4-4.4-2.1-6.8-2.1H34v36.3H6.3zM34 44.4h11.7c2.5-.2 4.9-.6 7.3-1.2 1.8-.3 3.4-1.3 4.5-2.8 2.7-3.6 2.3-8.7-1-11.8-1.8-1.5-5.3-2.3-10.3-2.3H34v18.1zM0 174.2l26.3-1.7c.6 4.3 1.7 7.5 3.5 9.8 2.8 3.6 6.9 5.5 12.2 5.5 3.9 0 7-.9 9.1-2.8 2-1.6 3.2-3.9 3.2-6.4 0-2.4-1.1-4.7-3-6.2-2-1.8-6.7-3.6-14.2-5.2-12.1-2.7-20.8-6.3-25.9-10.9-5.1-4.3-8-10.6-7.8-17.3 0-4.6 1.4-9.2 4-13 3-4.3 7.1-7.7 12-9.6 5.3-2.3 12.7-3.5 22-3.5 11.4 0 20.1 2.1 26.1 6.4s9.5 11 10.6 20.3l-26 1.5c-.7-4-2.1-6.9-4.4-8.8-2.2-1.9-5.3-2.8-9.2-2.7-3.2 0-5.6.7-7.2 2.1-1.6 1.2-2.5 3-2.4 5 0 1.5.8 2.9 2 3.8 1.3 1.2 4.4 2.3 9.3 3.3 12.1 2.6 20.7 5.2 26 7.9 5.3 2.7 9.1 6 11.4 9.9 2.4 4 3.6 8.6 3.6 13.2 0 5.6-1.7 11.1-4.8 15.8-3.3 4.9-7.9 8.7-13.3 11-5.7 2.5-12.9 3.8-21.5 3.8-15.2 0-25.7-2.9-31.6-8.8-5.9-6-9.2-13.4-10-22.4z\"/>\n        <path class=\"logo-path\" d=\"M133 167.2l24.2 7.3c-1.3 6.1-4 11.9-7.7 17-3.4 4.5-7.9 8-13 10.3-5.2 2.3-11.8 3.5-19.8 3.5-9.7 0-17.7-1.4-23.8-4.2-6.2-2.8-11.5-7.8-16-14.9-4.5-7.1-6.7-16.2-6.7-27.3 0-14.8 3.9-26.2 11.8-34.1s19-11.9 33.4-11.9c11.3 0 20.1 2.3 26.6 6.8 6.4 4.6 11.2 11.6 14.4 21l-24.4 5.4c-.6-2.1-1.5-4.2-2.7-6-1.5-2.1-3.4-3.7-5.7-4.9-2.3-1.2-4.9-1.7-7.5-1.7-6.3 0-11.1 2.5-14.4 7.6-2.5 3.7-3.8 9.6-3.8 17.6 0 9.9 1.5 16.7 4.5 20.4 3 3.7 7.2 5.5 12.7 5.5 5.3 0 9.3-1.5 12-4.4 2.7-3.1 4.7-7.4 5.9-13zm56.5-52.8h27.6v31.3h30.2v-31.3h27.8v89.4h-27.8v-36.2h-30.2v36.2h-27.6v-89.4z\"/>\n        <path class=\"logo-path\" d=\"M271.3 159.1c0-14.6 4.1-26 12.2-34.1 8.1-8.1 19.5-12.2 34-12.2 14.9 0 26.3 4 34.4 12S364 144 364 158.4c0 10.5-1.8 19-5.3 25.7-3.4 6.6-8.7 12-15.2 15.6-6.7 3.7-15 5.6-24.9 5.6-10.1 0-18.4-1.6-25-4.8-6.8-3.4-12.4-8.7-16.1-15.2-4.1-7-6.2-15.7-6.2-26.2zm27.6.1c0 9 1.7 15.5 5 19.5 3.3 3.9 7.9 5.9 13.7 5.9 5.9 0 10.5-1.9 13.8-5.8s4.9-10.8 4.9-20.8c0-8.4-1.7-14.6-5.1-18.4-3.4-3.9-8-5.8-13.8-5.8-5.1-.2-10 2-13.4 5.9-3.4 3.9-5.1 10.4-5.1 19.5zm93.4-.1c0-14.6 4.1-26 12.2-34.1 8.1-8.1 19.5-12.2 34-12.2 14.9 0 26.4 4 34.4 12S485 144 485 158.4c0 10.5-1.8 19-5.3 25.7-3.4 6.6-8.7 12-15.2 15.6-6.7 3.7-15 5.6-24.9 5.6-10.1 0-18.4-1.6-25-4.8-6.8-3.4-12.4-8.7-16.1-15.2-4.1-7-6.2-15.7-6.2-26.2zm27.6.1c0 9 1.7 15.5 5 19.5 3.3 3.9 7.9 5.9 13.7 5.9 5.9 0 10.5-1.9 13.8-5.8 3.3-3.9 4.9-10.8 4.9-20.8 0-8.4-1.7-14.6-5.1-18.4-3.4-3.9-8-5.8-13.8-5.8-5.1-.2-10.1 2-13.4 5.9-3.4 3.9-5.1 10.4-5.1 19.5z\"/>\n        <path class=\"logo-path\" d=\"M482.1 114.4h27.6v67.4h43.1v22H482v-89.4z\"/>\n        <ellipse transform=\"rotate(-37.001 420.46 67.88)\" class=\"st0\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/><defs><ellipse id=\"SVGID_1_\" class=\"st0\" transform=\"rotate(-37.001 420.46 67.88)\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/></defs><clipPath id=\"SVGID_2_\"><use xlink:href=\"#SVGID_1_\" overflow=\"visible\"/></clipPath><g class=\"st1\"><path transform=\"rotate(-37.001 420.82 68.353)\" class=\"st0\" d=\"M330.9-14.2h179.8v165.1H330.9z\"/><g id=\"Layer_2_1_\"><defs><path id=\"SVGID_3_\" transform=\"rotate(-37.001 420.82 68.353)\" d=\"M330.9-14.2h179.8v165.1H330.9z\"/></defs><clipPath id=\"SVGID_4_\"><use xlink:href=\"#SVGID_3_\" overflow=\"visible\"/></clipPath><g id=\"Layer_1-2\" class=\"st2\"><ellipse transform=\"rotate(-37.001 420.46 67.88)\" class=\"st0\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/><defs><ellipse id=\"SVGID_5_\" transform=\"rotate(-37.001 420.46 67.88)\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/></defs><clipPath id=\"SVGID_6_\"><use xlink:href=\"#SVGID_5_\" overflow=\"visible\"/></clipPath><g class=\"st3\"><path transform=\"rotate(-37 420.799 68.802)\" class=\"st0\" d=\"M357.8 17h125.9v103.7H357.8z\"/><defs><path id=\"SVGID_7_\" transform=\"rotate(-37 420.799 68.802)\" d=\"M357.8 17h125.9v103.7H357.8z\"/></defs><clipPath id=\"SVGID_8_\"><use xlink:href=\"#SVGID_7_\" overflow=\"visible\"/></clipPath><g class=\"st4\"><ellipse transform=\"rotate(-37.001 420.46 67.88)\" class=\"st5\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/></g><path transform=\"rotate(-37 420.799 68.802)\" class=\"st6\" d=\"M357.8 17h125.9v103.7H357.8z\"/><ellipse transform=\"rotate(-37.001 420.46 67.88)\" class=\"st7\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/><path transform=\"rotate(-37 420.799 68.802)\" class=\"st0\" d=\"M357.8 17h125.9v103.7H357.8z\"/><defs><path id=\"SVGID_9_\" transform=\"rotate(-37 420.799 68.802)\" d=\"M357.8 17h125.9v103.7H357.8z\"/></defs><clipPath id=\"SVGID_10_\"><use xlink:href=\"#SVGID_9_\" overflow=\"visible\"/></clipPath><g class=\"st8\"><ellipse transform=\"rotate(-37.001 420.46 67.88)\" class=\"st5\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/></g><path transform=\"rotate(-37 420.799 68.802)\" class=\"st9\" d=\"M357.8 17h125.9v103.7H357.8z\"/><path transform=\"rotate(-37.001 420.82 68.353)\" class=\"st7\" d=\"M330.9-14.2h179.8v165.1H330.9z\"/></g><ellipse transform=\"rotate(-37.001 420.46 67.88)\" class=\"st7\" cx=\"420.5\" cy=\"67.9\" rx=\"63\" ry=\"51.8\"/>\n        <path class=\"st1\" d=\"M392.4 61.3l10-7 12.3 17.5c2.1 2.8 3.7 5.8 4.9 9.1.7 2.5.5 5.2-.5 7.6-1.3 3-3.4 5.5-6.2 7.3-3.3 2.3-6.1 3.6-8.5 4-2.3.4-4.7 0-6.9-1-2.4-1.2-4.5-2.9-6.1-5.1l8.6-8c.7 1.1 1.6 2.1 2.6 2.9.7.5 1.5.8 2.4.8.7 0 1.4-.3 1.9-.7 1-.6 1.7-1.8 1.6-3-.3-1.7-1-3.4-2.1-4.7l-14-19.7zm30 11.1l9.1-7.2c1 1.2 2.3 2.1 3.7 2.6 2 .6 4.1.2 5.8-1.1 1.2-.8 2.2-1.9 2.6-3.3.6-1.8-.4-3.8-2.2-4.4-.3-.1-.6-.2-.9-.2-1.2-.1-3.3.4-6.4 1.7-5.1 2.1-9.1 2.9-12.1 2.6-2.9-.3-5.6-1.8-7.2-4.3-1.2-1.7-1.8-3.7-1.9-5.7 0-2.3.6-4.6 1.9-6.5 1.9-2.7 4.2-5 7-6.8 4.2-2.9 7.9-4.3 11.1-4.3 3.2 0 6.2 1.5 9 4.6l-9 7.1c-1.8-2.3-5.2-2.8-7.5-1l-.3.3c-1 .6-1.7 1.5-2.1 2.6-.3.8-.1 1.7.4 2.4.4.5 1 .9 1.7.9.8.1 2.2-.3 4.2-1.2 5-2.1 8.8-3.3 11.4-3.7 2.2-.4 4.5-.2 6.6.7 1.9.8 3.5 2.2 4.6 3.9 1.4 2 2.2 4.4 2.3 6.9.1 2.6-.6 5.1-2 7.3-1.8 2.7-4.1 5-6.8 6.8-5.5 3.8-10 5.4-13.6 4.8-3.9-.6-7.1-2.6-9.4-5.5z\"/></g></g></g>\n      </svg>\n    </a>\n    </div>\n  </footer>\n`;\n"],"names":["createElement","tag","classes","el","document","classList","add","TextMeasureTool","constructor","font","this","ctx","getContext","metrics","getCharWidth","char","length","Error","measureText","width","getStringWidth","value","stringWidth","i","addKeySetMetrics","keySet","Object","keys","forEach","key","values","valueKey","LanguageController","_load","language","LANGUAGE","DEFAULT","_language","newValue","_save","toggle","newLanguage","EN","RU","localStorage","setItem","STORAGE","getItem","Key","options","_parseOptions","mods","active","on","render","isSpecial","undefined","special","isRepeatable","repeatable","isCommand","command","setState","state","isOn","method","isArrow","includes","code","_value","setValue","prop","setLabel","innerHTML","setAttribute","toLowerCase","STATE","ACTIVE","ON","TextArea","textMeasureTool","class","name","autoEols","addEventListener","handleClick","handleChange","ResizeObserver","observe","_resetMoveState","requestAnimationFrame","setTimeout","window","getComputedStyle","lineHeight","Number","parseFloat","paddingTop","dispatchEvent","Event","setCursor","v","selection","selectionStart","start","selectionEnd","end","isFocused","activeElement","e","offsetX","lineIndex","Math","trunc","offsetY","scrollTop","isMouseClick","pos","_moveScroll","type","rowsPositions","_getRowsPositions","pop","_findRowIndex","rowBottom","rowIndex","rowTop","offsetHeight","addCharacter","setRangeText","selectAll","selectMode","SELECT_MODE","RIGHT","select","_select","selectionMode","match","notMatch","selectionBorders","setSelectionRange","selectLeft","LEFT","_setCurrentCursor","selectRight","selectUp","newCursorPosition","_moveVertically","MOVE_DIRECTION","UP","_","selectDown","DOWN","isDecrease","isBoundaryMove","rowOffset","cursorPosition","rowOffsetWidth","slice","cursor","position","arrowLeft","arrowRight","_getEolsPositions","sum","split","map","rows","FormData","parentElement","get","eolsPositions","lastPosition","row","find","push","_getCursorPosition","isWrongIndex","findIndex","_makeBoundaryMove","direction","currRow","isDirectionUp","prevOffset","_getNewCursorPosition","partWidth","prevCharWidth","charWidth","rightPart","next","nextRowWidth","arrowUp","arrowDown","enter","SYMBOL","EOL","tab","TAB_SIZE","SPACE","space","_deleteSymbol","condition","deleteSelection","backspace","delete","style","textContent","Keyboard","languageController","textArea","keySets","pressedCommandKeys","Set","pressedKeyCode","hotKeys","reduce","acc","commandKeys","commonKeys","filter","languageDependentKeys","KEY","isCapslock","isShift","repeatTimer","mediaQuery","matchMedia","handleMaxWidthChange","handleMouseDown","handleMouseUp","handleKeyDown","handleKeyUp","handleWindowBlur","_isShift","changeState","_isCapslock","toggleButtonOn","CAPSANDSHIFT","SHIFT","CAPSLOCK","updateButtons","btnKeys","shiftLeft","shiftRight","capsLock","toggleCommandBtn","c","commandKey","handleSpecialBtnDown","fnName","handleCommandBtnDown","isTrusted","handleCommandBtnUp","clearCommandKeys","clear","preventDefault","repeat","handleHotkey","cmdsNumber","size","isHotKey","keyCode","languageSwitch","lastKey","keysForCompare","some","has","isEqual","areSetsEqual","a","b","every","repeatBtn","delay","KeyboardEvent","REPEAT","PERIOD","focus","btn","target","closest","dataset","DELAY","clearTimeout","pressedKey","getKeyValues","keyboard","keyboardLayout","layoutRow","append","matches","enKeys","ruKeys","container","form","insertAdjacentHTML","body"],"sourceRoot":""}